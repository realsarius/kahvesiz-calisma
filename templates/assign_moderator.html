{% extends 'base.html' %} {% block title %}Assign Moderator{% endblock %} {%
block content %}
<main class="container mx-auto p-6 max-w-4xl">
  <h1 class="text-3xl font-bold mb-6">Assign Moderator</h1>

  <!-- Flash messages -->
  {% with messages = get_flashed_messages(with_categories=true) %} {% if
  messages %}
  <div
    class="mb-4 p-4 bg-green-100 text-green-700 border border-green-300 rounded-lg dark:bg-green-900 dark:text-green-300 dark:border-green-700"
  >
    {% for category, message in messages %}
    <p class="mb-2">{{ message }}</p>
    {% endfor %}
  </div>
  {% endif %} {% endwith %}

  <!-- Form -->
  <form method="POST" class="space-y-6">
    <div class="form-group">
      <label
        for="user_id"
        class="block text-sm font-medium text-gray-700 dark:text-gray-200"
        >Select User:</label
      >
      <select
        name="user_id"
        id="user_id"
        required
        class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm dark:bg-gray-900 dark:text-gray-50 dark:border-gray-600"
      >
        <option value="">Select User</option>
        {% for user in users %}
        <option value="{{ user.id }}">{{ user.name }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="form-group">
      <label
        for="cafe_id"
        class="block text-sm font-medium text-gray-700 dark:text-gray-200"
        >Select Cafe:</label
      >
      <select
        name="cafe_id"
        id="cafe_id"
        required
        class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm dark:bg-gray-900 dark:text-gray-50 dark:border-gray-600"
      >
        <option value="">Select Cafe</option>
        {% for cafe in cafes %}
        <option value="{{ cafe.id }}">{{ cafe.name }}</option>
        {% endfor %}
      </select>
    </div>

    <button
      type="submit"
      class="w-full py-2 px-4 rounded-lg shadow-md bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800 dark:bg-blue-500 dark:text-gray-900 dark:hover:bg-blue-600 dark:active:bg-blue-700"
    >
      Assign Moderator
    </button>
  </form>
  <div id="moderated-cafes-list"></div>
</main>

<script
  src="{{ url_for('static', filename='src/scripts/assign_moderator.js') }}"
  defer
></script>
{% endblock %}
